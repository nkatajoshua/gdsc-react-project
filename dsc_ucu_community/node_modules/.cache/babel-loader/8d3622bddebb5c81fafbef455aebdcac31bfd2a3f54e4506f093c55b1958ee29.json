{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\Computer Science\\\\Projects\\\\Website\\\\gdsc-react-project\\\\dsc_ucu_community\\\\src\\\\Components\\\\Navbar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./Navbar.css\";\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\"; // Import Firestore\nimport { firebaseConfig } from \"../Base/firebaseConfig\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfirebase.initializeApp(firebaseConfig);\nconst NavBar = () => {\n  _s();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false); // Track if user is an admin\n  const navigate = useNavigate();\n  const handleLogout = () => {\n    setIsLoggedIn(false);\n    setIsAdmin(false);\n    firebase.auth().signOut();\n    navigate('/');\n  };\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        setIsLoggedIn(true);\n        console.log(\"User is logged in\");\n\n        // Check if user is an admin\n        const userRef = firebase.firestore().collection('admins').doc(user.uid);\n        userRef.get().then(doc => {\n          if (doc.exists) {\n            const data = doc.data();\n            if (data.role === 'admin') {\n              setIsAdmin(true);\n            }\n          }\n        }).catch(error => {\n          console.log(\"Error getting user data:\", error);\n        });\n      } else {\n        console.log(\"User is logged out\");\n        setIsLoggedIn(false);\n        setIsAdmin(false);\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), isLoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [isAdmin && /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admindashboard\",\n            children: \"Admin Content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/member-content\",\n            children: \"Member Content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/userprofile\",\n            children: \"User profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"loginout\",\n            onClick: handleLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(NavBar, \"iAduypHiTZDwsFWOXnasRaMYAT8=\", false, function () {\n  return [useNavigate];\n});\n_c = NavBar;\nexport default NavBar;\nvar _c;\n$RefreshReg$(_c, \"NavBar\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","firebase","firebaseConfig","jsxDEV","_jsxDEV","Fragment","_Fragment","initializeApp","NavBar","_s","isLoggedIn","setIsLoggedIn","isAdmin","setIsAdmin","navigate","handleLogout","auth","signOut","onAuthStateChanged","user","console","log","userRef","firestore","collection","doc","uid","get","then","exists","data","role","catch","error","children","to","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","_c","$RefreshReg$"],"sources":["C:/Users/admin/Desktop/Computer Science/Projects/Website/gdsc-react-project/dsc_ucu_community/src/Components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./Navbar.css\";\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\"; // Import Firestore\nimport { firebaseConfig } from \"../Base/firebaseConfig\";\n\nfirebase.initializeApp(firebaseConfig);\n\nconst NavBar = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false); // Track if user is an admin\n  const navigate = useNavigate();\n\n  const handleLogout = () => {\n    setIsLoggedIn(false);\n    setIsAdmin(false);\n    firebase.auth().signOut();\n    navigate('/');\n  };\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        setIsLoggedIn(true);\n        console.log(\"User is logged in\");\n\n        // Check if user is an admin\n        const userRef = firebase.firestore().collection('admins').doc(user.uid);\n        userRef.get().then((doc) => {\n          if (doc.exists) {\n            const data = doc.data();\n            if (data.role === 'admin') {\n              setIsAdmin(true);\n            }\n          }\n        }).catch((error) => {\n          console.log(\"Error getting user data:\", error);\n        });\n\n      } else {\n        console.log(\"User is logged out\");\n        setIsLoggedIn(false);\n        setIsAdmin(false);\n      }\n    });\n  }, []);\n\n  return (\n    <nav>\n      <ul>\n        <li>\n          <Link to=\"/\">Home</Link>\n          {isLoggedIn ? (\n            <>\n              {isAdmin && (\n                <Link to=\"/admindashboard\">Admin Content</Link>\n              )}\n              <Link to='/member-content'>Member Content</Link>\n              <Link to=\"/userprofile\">User profile</Link>\n              <button className=\"loginout\" onClick={handleLogout}>Logout</button>\n              \n            </>\n          ) : (\n            <>\n              <Link to=\"/login\">Login</Link>\n              <Link to=\"/register\">Register</Link>\n            </>\n          )}\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default NavBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}